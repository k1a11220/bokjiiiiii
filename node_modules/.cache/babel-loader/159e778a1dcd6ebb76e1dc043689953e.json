{"ast":null,"code":"import _regeneratorRuntime from\"/Users/beomsoo/Documents/GitHub/bokjiiiiii/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/beomsoo/Documents/GitHub/bokjiiiiii/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/beomsoo/Documents/GitHub/bokjiiiiii/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/beomsoo/Documents/GitHub/bokjiiiiii/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from\"react\";import axios from\"axios\";import XMLParser from\"react-xml-parser\";import{useForm}from\"react-hook-form\";import{CircularProgress}from\"@material-ui/core\";import\"../styles.css\";import ResultList from\"../components/ResultList\";var Home=function Home(){function parseStr(_x){return _parseStr.apply(this,arguments);}function _parseStr(){_parseStr=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dataSet){var dataArr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataArr=new XMLParser().parseFromString(dataSet).children;resultCount=dataArr.length;// 검색된 데이터의 수를 구한다. (dataArr length 에서 5개 값이 빠짐)\nif(resultCount<6){alert(\"검색결과가 없습니다.\");// 검색결과가 없을경우 알람표시\nsetPrint(false);setLoaded(false);}setState(function(preState){return _objectSpread(_objectSpread({},preState),{},{results:dataArr.slice(resultNumber,resultCount-resultNumber-2)});});setLoaded(false);setPrint(true);// console.log(state.results); //state.result == servs\ncase 6:case\"end\":return _context.stop();}}},_callee);}));return _parseStr.apply(this,arguments);}function getAPI(){return _getAPI.apply(this,arguments);}function _getAPI(){_getAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios({method:\"get\",url:\"https://cors-anywhere.herokuapp.com/https://www.bokjiro.go.kr/openapi/rest/gvmtWelSvc?crtiKey=\".concat(API_KEY,\"&callTp=L&pageNum=1&numOfRows=100&lifeArray=\").concat(LIFE_VALUE,\"&charTrgterArray=\").concat(CHAR_VALUE,\"&trgterIndvdlArray=\").concat(INDVD_VALUE,\"&desireArray=\").concat(DESIRE_VALUE)}).then(function(response){var dataSet=response.data;parseStr(dataSet);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _getAPI.apply(this,arguments);}var API_KEY=\"qt%2BHSez0GjoTYvzN9D49cDlbHcVmSSxlKAUmIrLEqtHhnJBf6URyeHVJYuTIP13Hm148dCo3U7qu0QeSF%2FXoZw%3D%3D\";var LIFE_VALUE=\"\";var CHAR_VALUE=\"\";var INDVD_VALUE=\"\";var DESIRE_VALUE=\"\";var resultCount=[];var resultNumber=4;//최상위 3개의 데이터는 필요없기 떄문에 제외한다.\nvar _useState=useState({results:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];//api 데이터를 담는 hooks\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),print=_useState6[0],setPrint=_useState6[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var onSubmit=function onSubmit(data){LIFE_VALUE=data.lifeArr;CHAR_VALUE=data.charArr;INDVD_VALUE=data.indvdArr;DESIRE_VALUE=data.desireArr;setLoaded(true);getAPI();};return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"BBOKJI\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uB098\\uB9CC\\uC744 \\uC704\\uD55C \\uBCF5\\uC9C0\\uAC80\\uC0C9\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"select-wrapper\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"select-container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"select-area\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"option-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"option-title\",children:\"\\uC0DD\\uC560\\uC8FC\\uAE30\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"lifeArr\",ref:register,className:\"js-life\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"001\",children:\"\\uC601\\uC720\\uC544\"}),/*#__PURE__*/_jsx(\"option\",{value:\"002\",children:\"\\uC544\\uB3D9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"003\",children:\"\\uCCAD\\uC18C\\uB144\"}),/*#__PURE__*/_jsx(\"option\",{value:\"004\",children:\"\\uCCAD\\uB144\"}),/*#__PURE__*/_jsx(\"option\",{value:\"005\",children:\"\\uC911\\uC7A5\\uB144\"}),/*#__PURE__*/_jsx(\"option\",{value:\"006\",children:\"\\uB178\\uB144\"})]})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"option-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"option-title\",children:\"\\uB300\\uC0C1\\uD2B9\\uC131\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"charArr\",ref:register,className:\"js-char\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"001\",children:\"\\uD574\\uB2F9\\uC5C6\\uC74C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"002\",children:\"\\uC5EC\\uC131\"}),/*#__PURE__*/_jsx(\"option\",{value:\"003\",children:\"\\uC784\\uC0B0\\uBD80\"}),/*#__PURE__*/_jsx(\"option\",{value:\"004\",children:\"\\uC7A5\\uC560\"}),/*#__PURE__*/_jsx(\"option\",{value:\"005\",children:\"\\uAD6D\\uAC00\\uC720\\uB3D9\\uC790\\uB4F1 \\uBCF4\\uD6C8\\uB300\\uC0C1\\uC790\"}),/*#__PURE__*/_jsx(\"option\",{value:\"006\",children:\"\\uC2E4\\uC5C5\\uC790\"})]})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"option-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"option-title\",children:\"\\uAC00\\uAD6C\\uC720\\uD615\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"indvdArr\",ref:register,className:\"js-indvd\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"001\",children:\"\\uD574\\uB2F9\\uC5C6\\uC74C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"002\",children:\"\\uD55C\\uBD80\\uBAA8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"003\",children:\"\\uB2E4\\uBB38\\uD654\"}),/*#__PURE__*/_jsx(\"option\",{value:\"004\",children:\"\\uC870\\uC190\"}),/*#__PURE__*/_jsx(\"option\",{value:\"005\",children:\"\\uC0C8\\uD130\\uBBFC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"006\",children:\"\\uC18C\\uB144\\uC18C\\uB140\\uAC00\\uC7A5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"007\",children:\"\\uB3C5\\uAC70\\uB178\\uC778\"})]})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"option-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"option-title\",children:\"\\uC695\\uAD6C\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"desireArr\",ref:register,className:\"js-desire\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0000000\",children:\"\\uC548\\uC804\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1000000\",children:\"\\uAC74\\uAC15\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2000000\",children:\"\\uC77C\\uC0C1\\uC0DD\\uD65C\\uC720\\uC9C0\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3000000\",children:\"\\uAC00\\uC871\\uAD00\\uACC4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4000000\",children:\"\\uC0AC\\uD68C\\uC801 \\uAD00\\uACC4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"500000\",children:\"\\uACBD\\uC81C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6000000\",children:\"\\uAD50\\uC721\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7000000\",children:\"\\uACE0\\uC6A9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8000000\",children:\"\\uC0DD\\uD65C\\uD658\\uACBD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"9000000\",children:\"\\uBC95\\uB960 \\uBC0F \\uAD8C\\uC775\\uBCF4\\uC7A5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A000000\",children:\"\\uAE30\\uD0C0\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"submitBtn\",type:\"submit\",value:\"\\uACB0\\uACFC\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"input\",{className:\"resetBtn\",type:\"reset\",value:\"\\uCD08\\uAE30\\uD654\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"js-result\",children:/*#__PURE__*/_jsx(\"h2\",{children:print===true?\"지원 가능한 서비스를 살펴보세요.\":\"서비스를 조회해보세요.\"})}),loaded===true?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CircularProgress,{className:\"spinner\",getdata:toString(state.getdata)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}):null,/*#__PURE__*/_jsx(ResultList,{results:state.results})]}),/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\xA9 2021 \\uACF5\\uC0AC\\uB2E8\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]});};export default Home;","map":{"version":3,"sources":["/Users/beomsoo/Documents/GitHub/bokjiiiiii/src/routes/Home.js"],"names":["React","useState","axios","XMLParser","useForm","CircularProgress","ResultList","Home","parseStr","dataSet","dataArr","parseFromString","children","resultCount","length","alert","setPrint","setLoaded","setState","preState","results","slice","resultNumber","getAPI","method","url","API_KEY","LIFE_VALUE","CHAR_VALUE","INDVD_VALUE","DESIRE_VALUE","then","response","data","state","loaded","print","register","handleSubmit","onSubmit","lifeArr","charArr","indvdArr","desireArr","toString","getdata"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport XMLParser from \"react-xml-parser\";\nimport { useForm } from \"react-hook-form\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport \"../styles.css\";\nimport ResultList from \"../components/ResultList\";\n\nconst Home = () => {\n  async function parseStr(dataSet) {\n    const dataArr = new XMLParser().parseFromString(dataSet).children;\n    resultCount = dataArr.length; // 검색된 데이터의 수를 구한다. (dataArr length 에서 5개 값이 빠짐)\n    if (resultCount < 6) {\n      alert(\"검색결과가 없습니다.\"); // 검색결과가 없을경우 알람표시\n      setPrint(false);\n      setLoaded(false);\n    }\n    setState((preState) => {\n      return {\n        ...preState,\n        results: dataArr.slice(resultNumber, resultCount - resultNumber - 2),\n      };\n    });\n    setLoaded(false);\n    setPrint(true);\n    // console.log(state.results); //state.result == servs\n  }\n\n  async function getAPI() {\n    await axios({\n      method: \"get\",\n      url: `https://cors-anywhere.herokuapp.com/https://www.bokjiro.go.kr/openapi/rest/gvmtWelSvc?crtiKey=${API_KEY}&callTp=L&pageNum=1&numOfRows=100&lifeArray=${LIFE_VALUE}&charTrgterArray=${CHAR_VALUE}&trgterIndvdlArray=${INDVD_VALUE}&desireArray=${DESIRE_VALUE}`,\n    }).then(function (response) {\n      const dataSet = response.data;\n      parseStr(dataSet);\n    });\n  }\n\n  const API_KEY =\n    \"qt%2BHSez0GjoTYvzN9D49cDlbHcVmSSxlKAUmIrLEqtHhnJBf6URyeHVJYuTIP13Hm148dCo3U7qu0QeSF%2FXoZw%3D%3D\";\n\n  let LIFE_VALUE = \"\";\n  let CHAR_VALUE = \"\";\n  let INDVD_VALUE = \"\";\n  let DESIRE_VALUE = \"\";\n  let resultCount = [];\n  let resultNumber = 4; //최상위 3개의 데이터는 필요없기 떄문에 제외한다.\n\n  const [state, setState] = useState({\n    results: [],\n  }); //api 데이터를 담는 hooks\n\n  const [loaded, setLoaded] = useState(false);\n  const [print, setPrint] = useState(false);\n\n  const { register, handleSubmit } = useForm();\n  const onSubmit = (data) => {\n    LIFE_VALUE = data.lifeArr;\n    CHAR_VALUE = data.charArr;\n    INDVD_VALUE = data.indvdArr;\n    DESIRE_VALUE = data.desireArr;\n    setLoaded(true);\n    getAPI();\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <>\n        <header>\n          <h1>BBOKJI</h1>\n          <h2>나만을 위한 복지검색</h2>\n        </header>\n\n        <form className=\"select-wrapper\" onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"select-container\">\n            <ul className=\"select-area\">\n              <li className=\"option-container\">\n                <h2 className=\"option-title\">생애주기</h2>\n                <select name=\"lifeArr\" ref={register} className=\"js-life\">\n                  <option value=\"none\">선택하세요</option>\n                  <option value=\"001\">영유아</option>\n                  <option value=\"002\">아동</option>\n                  <option value=\"003\">청소년</option>\n                  <option value=\"004\">청년</option>\n                  <option value=\"005\">중장년</option>\n                  <option value=\"006\">노년</option>\n                </select>\n              </li>\n\n              <li className=\"option-container\">\n                <h2 className=\"option-title\">대상특성</h2>\n                <select name=\"charArr\" ref={register} className=\"js-char\">\n                  <option value=\"none\">선택하세요</option>\n                  <option value=\"001\">해당없음</option>\n                  <option value=\"002\">여성</option>\n                  <option value=\"003\">임산부</option>\n                  <option value=\"004\">장애</option>\n                  <option value=\"005\">국가유동자등 보훈대상자</option>\n                  <option value=\"006\">실업자</option>\n                </select>\n              </li>\n\n              <li className=\"option-container\">\n                <h2 className=\"option-title\">가구유형</h2>\n                <select name=\"indvdArr\" ref={register} className=\"js-indvd\">\n                  <option value=\"none\">선택하세요</option>\n                  <option value=\"001\">해당없음</option>\n                  <option value=\"002\">한부모</option>\n                  <option value=\"003\">다문화</option>\n                  <option value=\"004\">조손</option>\n                  <option value=\"005\">새터민</option>\n                  <option value=\"006\">소년소녀가장</option>\n                  <option value=\"007\">독거노인</option>\n                </select>\n              </li>\n\n              <li className=\"option-container\">\n                <h2 className=\"option-title\">욕구</h2>\n                <select name=\"desireArr\" ref={register} className=\"js-desire\">\n                  <option value=\"none\">선택하세요</option>\n                  <option value=\"0000000\">안전</option>\n                  <option value=\"1000000\">건강</option>\n                  <option value=\"2000000\">일상생활유지</option>\n                  <option value=\"3000000\">가족관계</option>\n                  <option value=\"4000000\">사회적 관계</option>\n                  <option value=\"500000\">경제</option>\n                  <option value=\"6000000\">교육</option>\n                  <option value=\"7000000\">고용</option>\n                  <option value=\"8000000\">생활환경</option>\n                  <option value=\"9000000\">법률 및 권익보장</option>\n                  <option value=\"A000000\">기타</option>\n                </select>\n              </li>\n            </ul>\n          </div>\n          <div className=\"search-container\">\n            <input className=\"submitBtn\" type=\"submit\" value=\"결과보기\" />\n            <input className=\"resetBtn\" type=\"reset\" value=\"초기화\" />\n          </div>\n        </form>\n        <div className=\"js-result\">\n          <h2>\n            {print === true\n              ? \"지원 가능한 서비스를 살펴보세요.\"\n              : \"서비스를 조회해보세요.\"}\n          </h2>\n        </div>\n\n        {loaded === true ? (\n          <>\n            <br />\n            <br />\n            <br />\n            <CircularProgress\n              className=\"spinner\"\n              getdata={toString(state.getdata)}\n            />\n            <br />\n            <br />\n          </>\n        ) : null}\n\n        <ResultList results={state.results} />\n      </>\n      <footer>\n        <br />\n        <br />\n        <br />\n        <h4>&copy; 2021 공사단</h4>\n        <br />\n        <br />\n        <br />\n      </footer>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}